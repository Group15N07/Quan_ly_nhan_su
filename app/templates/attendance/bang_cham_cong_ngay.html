{% extends layout%}
{% block content %}
<div class="container mt-5">
    <header class="d-flex justify-content-between align-items-center mb-4">
        <h2>B·∫£ng ch·∫•m c√¥ng trong ng√†y</h2>
        <a href="{{ url_for('face_trigger.chamcong_face') }}" class="btn btn-primary mb-3">
    üì∑ Ch·∫•m c√¥ng b·∫±ng khu√¥n m·∫∑t
</a>

    </header>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          {{ messages[0] }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endif %}
    {% endwith %}

    {% if records %}
    <table class="table table-bordered table-striped align-middle">
        <thead class="table-primary">
            <tr>
                <th>STT</th>
                <th>H·ªç t√™n</th>
                <th>Ng√†y</th>
                <th>Check-in</th>
                <th>Check-out</th>
                <th>T·ªïng gi·ªù</th>
                <th>H√†nh ƒë·ªông</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ record.name }}</td>
                <td>{{ record.date }}</td>
                <td>{{ record.check_in or '-' }}</td>
                <td>{{ record.check_out or '-' }}</td>
                <td>{% if record.total_hours is not none and record.total_hours|float != 0 %}
                    {{ '%.2f' % (record.total_hours|float) }}
                    {% else %}
                        -
                    {% endif %}
                </td>




            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p class="text-muted">Kh√¥ng c√≥ d·ªØ li·ªáu ch·∫•m c√¥ng h√¥m nay.</p>
    {% endif %}
</div>
{% endblock %}